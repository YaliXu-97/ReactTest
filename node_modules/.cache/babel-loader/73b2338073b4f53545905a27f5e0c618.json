{"ast":null,"code":"import { call, put, takeEvery } from \"redux-saga/effects\"; //模拟登录\n\nconst UserService = {\n  login(uname) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (uname === \"Jerry\") {\n          resolve({\n            id: 1,\n            name: \"Jerry\",\n            age: 20\n          });\n        } else {\n          reject(\"用户名或密码错误\");\n        }\n      }, 1000);\n    });\n  }\n\n}; //worker Sage\n\nfunction* login(action) {\n  try {\n    yield put({\n      type: \"requestLogin\"\n    });\n    const result = yield call(UserService.login, action.uname);\n    yield put({\n      type: \"loginSuccess\",\n      result\n    });\n  } catch (message) {\n    yield put({\n      type: \"loginFailure\",\n      message\n    });\n  }\n}\n\nfunction* mySaga() {\n  yield takeEvery(\"login\", login);\n}\n\nexport default mySaga;","map":{"version":3,"sources":["D:/workspace/test1/src/store/saga.js"],"names":["call","put","takeEvery","UserService","login","uname","Promise","resolve","reject","setTimeout","id","name","age","action","type","result","message","mySaga"],"mappings":"AAAA,SAAQA,IAAR,EAAaC,GAAb,EAAiBC,SAAjB,QAAiC,oBAAjC,C,CAEA;;AACA,MAAMC,WAAW,GAAC;AACdC,EAAAA,KAAK,CAACC,KAAD,EAAO;AACR,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAASC,MAAT,KAAkB;AACjCC,MAAAA,UAAU,CAAC,MAAI;AACX,YAAGJ,KAAK,KAAG,OAAX,EAAmB;AACfE,UAAAA,OAAO,CAAC;AAACG,YAAAA,EAAE,EAAC,CAAJ;AAAMC,YAAAA,IAAI,EAAC,OAAX;AAAmBC,YAAAA,GAAG,EAAC;AAAvB,WAAD,CAAP;AACH,SAFD,MAEK;AACDJ,UAAAA,MAAM,CAAC,UAAD,CAAN;AACH;AACJ,OANS,EAMR,IANQ,CAAV;AAOH,KARM,CAAP;AASH;;AAXa,CAAlB,C,CAcA;;AACA,UAAUJ,KAAV,CAAgBS,MAAhB,EAAuB;AACnB,MAAG;AACC,UAAMZ,GAAG,CAAC;AAACa,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAT;AACA,UAAMC,MAAM,GAAC,MAAMf,IAAI,CAAEG,WAAW,CAACC,KAAd,EAAoBS,MAAM,CAACR,KAA3B,CAAvB;AACA,UAAMJ,GAAG,CAAC;AAACa,MAAAA,IAAI,EAAC,cAAN;AAAqBC,MAAAA;AAArB,KAAD,CAAT;AACH,GAJD,CAIC,OAAMC,OAAN,EAAc;AACX,UAAMf,GAAG,CAAC;AAACa,MAAAA,IAAI,EAAC,cAAN;AAAqBE,MAAAA;AAArB,KAAD,CAAT;AACH;AACJ;;AAED,UAAUC,MAAV,GAAkB;AACd,QAAMf,SAAS,CAAC,OAAD,EAASE,KAAT,CAAf;AACH;;AACD,eAAea,MAAf","sourcesContent":["import {call,put,takeEvery} from \"redux-saga/effects\";\r\n\r\n//模拟登录\r\nconst UserService={\r\n    login(uname){\r\n        return new Promise((resolve,reject)=>{\r\n            setTimeout(()=>{\r\n                if(uname===\"Jerry\"){\r\n                    resolve({id:1,name:\"Jerry\",age:20});\r\n                }else{\r\n                    reject(\"用户名或密码错误\");\r\n                }\r\n            },1000);\r\n        });\r\n    }\r\n};\r\n\r\n//worker Sage\r\nfunction* login(action){\r\n    try{\r\n        yield put({type:\"requestLogin\"});\r\n        const result=yield call (UserService.login,action.uname);\r\n        yield put({type:\"loginSuccess\",result});\r\n    }catch(message){\r\n        yield put({type:\"loginFailure\",message})\r\n    }\r\n}\r\n\r\nfunction* mySaga(){\r\n    yield takeEvery(\"login\",login);\r\n}\r\nexport default mySaga;"]},"metadata":{},"sourceType":"module"}